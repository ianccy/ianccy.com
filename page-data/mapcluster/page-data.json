{"componentChunkName":"component---src-templates-post-tsx","path":"/mapcluster/","result":{"data":{"site":{"siteMetadata":{"title":"Ian Chu"}},"markdownRemark":{"id":"879c82f3-7357-5ae2-bc81-302c482a4841","excerpt":"大家好我是 Ian，目前是負責網頁前端，每天工作都在處理各種問題~~(pm 奇形需求)~~，順便分享一些相關的解法。\n最近剛好專注在 google map 工具的使用，需要將大量的資料撒上 google map，資料也帶滿多資訊，讓 user 點擊 marker 在拉開 infowindow…","html":"<p>大家好我是 Ian，目前是負責網頁前端，每天工作都在處理各種問題~~(pm 奇形需求)~~，順便分享一些相關的解法。\n最近剛好專注在 google map 工具的使用，需要將大量的資料撒上 google map，資料也帶滿多資訊，讓 user 點擊 marker 在拉開 infowindow，又嫌太慢。於是開始研究 marker group 概念的工具，也發現關於 marker library 中文的文件比較少一點，所以就順手寫了 marker 延伸使用範例，也可以直接點開範例看 code。</p>\n<p>分為內建 google map 工具操作，還有運用 google map 團隊所開發的工具，達到更多的功能。<br>\n<br></p>\n<h2 id=\"google-map-搭配內建-marker-infowindow\" style=\"position:relative;\"><a href=\"#google-map-%E6%90%AD%E9%85%8D%E5%85%A7%E5%BB%BA-marker-infowindow\" aria-label=\"google map 搭配內建 marker infowindow permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>google map 搭配內建 marker infowindow</h2>\n<p>首先先運用比較常用到的功能，google map 下多個 marker，再搭配 marker 的 event 來互動，以下是打開 infowindow 的運用。</p>\n<p>簡單創建多筆經緯度資料，呈現的是搭計程車到地點的價格。</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">//我只標出比較重要部分，其他就codepen點開來看唄</span>\n<span class=\"token keyword\">var</span> marker <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">google<span class=\"token punctuation\">.</span>maps<span class=\"token punctuation\">.</span>Marker</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">position</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">lat</span><span class=\"token operator\">:</span> item<span class=\"token punctuation\">.</span>lat<span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">lng</span><span class=\"token operator\">:</span> item<span class=\"token punctuation\">.</span>lng <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">map</span><span class=\"token operator\">:</span> map<span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">title</span><span class=\"token operator\">:</span> item<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">icon</span><span class=\"token operator\">:</span> image<span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">data</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Go to \"</span> <span class=\"token operator\">+</span> item<span class=\"token punctuation\">.</span>name <span class=\"token operator\">+</span> <span class=\"token string\">\"&lt;br/> Taxi price: \"</span> <span class=\"token operator\">+</span> item<span class=\"token punctuation\">.</span>price<span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nmarker<span class=\"token punctuation\">.</span><span class=\"token function\">addListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"click\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  infowindow<span class=\"token punctuation\">.</span><span class=\"token function\">setContent</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  infowindow<span class=\"token punctuation\">.</span><span class=\"token function\">open</span><span class=\"token punctuation\">(</span>map<span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>比較特別的是這個寫法，在每個 marker 加入 data 物件，讓 marker 延伸操作性。<br>\n以下圖片實際呼叫 marker 所印出來的資料，可以看到畫線處，出現我們剛剛加入的 data，這樣你就可以利用 marker 來帶一些資料，例如說點擊 marker 可以 call function 然後帶互動，這方法變得方便又輕巧。\nps.可以利用指定某個 marker markerArr[i].setOptions({data=“/change/image”})變換 marker 資料。</p>\n<h2 id=\"實際運作範例-infowindow\" style=\"position:relative;\"><a href=\"#%E5%AF%A6%E9%9A%9B%E9%81%8B%E4%BD%9C%E7%AF%84%E4%BE%8B-infowindow\" aria-label=\"實際運作範例 infowindow permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>實際運作範例 infowindow</h2>\n<iframe height='360' scrolling='no' title='Multipel google map marker with info (basic)' src='//codepen.io/chu1228/embed/rpNzBb/?height=360&theme-id=light&default-tab=result&embed-version=2' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%;'>See the Pen <a href='https://codepen.io/chu1228/pen/rpNzBb/'>Multipel google map marker with info (basic)</a> by ianchu (<a href='https://codepen.io/chu1228'>@chu1228</a>) on <a href='https://codepen.io'>CodePen</a>.\n</iframe>\n<br>\n<h2 id=\"google-map-運用-library\" style=\"position:relative;\"><a href=\"#google-map-%E9%81%8B%E7%94%A8-library\" aria-label=\"google map 運用 library permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>google map 運用 library</h2>\n<p>感謝 google 大大，其實 googlemap 官方 github 有整理滿多 library <a href=\"https://github.com/googlemaps/v3-utility-library\" title=\"google map library\">google map library</a>，建議下載使用，因為滿多工具 demo 頁面都呈現 404…。</p>\n<p>這邊要用的是<a href=\"https://github.com/googlemaps/v3-utility-library/tree/master/markerwithlabel\" title=\"google map library\">markerwithlabel</a> 還有 <a href=\"https://github.com/googlemaps/v3-utility-library/tree/master/markerclusterer\" title=\"google map library\">markercluster</a>這兩個 library，markerwithlabel 讓我們更簡單設計不同的 marker，例如讓他帶自訂的 image，再來是重點 markercluster，它讓我們可以解決 marker 過多，同時重疊的問題。</p>\n<p>首先處理單一個 marker 用的是 MarkerWithLabel，原本呼叫 google.maps.Marker 改成 MarkerWithLabel，然後就搞定了，非常快速簡單，他可以用的 event 滿多的，基本上都可以處理 marker 的互動，甚至也可以像一般的 marker 設定物件上去。</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">//更多變數請點選說明文件，基本上可以用class 搭配 css操作，或是labelStyle 處理icon style</span>\n<span class=\"token keyword\">var</span> marker <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">MarkerWithLabel</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">draggable</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">raiseOnDrag</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">map</span><span class=\"token operator\">:</span> map<span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">labelContent</span><span class=\"token operator\">:</span> <span class=\"token string\">\"&lt;span>\"</span> <span class=\"token operator\">+</span> item<span class=\"token punctuation\">.</span>name <span class=\"token operator\">+</span> <span class=\"token string\">\"&lt;br/>\"</span> <span class=\"token operator\">+</span> item<span class=\"token punctuation\">.</span>price <span class=\"token operator\">+</span> <span class=\"token string\">\"&lt;/span>\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">labelAnchor</span><span class=\"token operator\">:</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">google<span class=\"token punctuation\">.</span>maps<span class=\"token punctuation\">.</span>Point</span><span class=\"token punctuation\">(</span><span class=\"token number\">40</span><span class=\"token punctuation\">,</span> <span class=\"token number\">32</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">labelClass</span><span class=\"token operator\">:</span> <span class=\"token string\">\"labels\"</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// the CSS class for the label</span>\n  <span class=\"token literal-property property\">labelStyle</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">opacity</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">position</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">lat</span><span class=\"token operator\">:</span> item<span class=\"token punctuation\">.</span>lat<span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">lng</span><span class=\"token operator\">:</span> item<span class=\"token punctuation\">.</span>lng <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">data</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Go to \"</span> <span class=\"token operator\">+</span> item<span class=\"token punctuation\">.</span>name <span class=\"token operator\">+</span> <span class=\"token string\">\"&lt;br/> Taxi price: \"</span> <span class=\"token operator\">+</span> item<span class=\"token punctuation\">.</span>price<span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"實際範例-markerwithlabel\" style=\"position:relative;\"><a href=\"#%E5%AF%A6%E9%9A%9B%E7%AF%84%E4%BE%8B-markerwithlabel\" aria-label=\"實際範例 markerwithlabel permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>實際範例 markerwithlabel</h2>\n<p data-height=\"259\" data-theme-id=\"light\" data-slug-hash=\"eyYVJz\" data-default-tab=\"result\" data-user=\"chu1228\" data-embed-version=\"2\" data-pen-title=\"google map marker cluster (markercluster & markerlabel)\" class=\"codepen\">See the Pen <a href=\"https://codepen.io/chu1228/pen/eyYVJz/\">google map marker cluster (markercluster & markerlabel)</a> by ianchu (<a href=\"https://codepen.io/chu1228\">@chu1228</a>) on <a href=\"https://codepen.io\">CodePen</a>.</p>\n<script async src=\"https://production-assets.codepen.io/assets/embed/ei.js\"></script>\n<p>最後是使用 markercluster 工具，這工具目前還有另一版 markerclusterplus，這邊就只用來一般版來操作。</p>\n<p>markercluster 主要是處理 marker 下完後，call function 渲染畫面，快速的判斷每個 marker 之間是否接近到某個程度，在創造出屬性這區塊的聚合 marker，簡單的就是</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">下 marker <span class=\"token operator\">-</span><span class=\"token operator\">></span> markerArr<span class=\"token punctuation\">.</span><span class=\"token function\">markercluster</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>建立 Cluster 的方法，這個版本無法帶入 className，需要打開.js 檔案，直接在 style.push 區塊修改，我這邊有修改 background-repeat:no-repeat。</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">//arr 是剛剛marker的 array 需要建立帶入 其餘是內建option</span>\nmarkerCluster <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">MarkerClusterer</span><span class=\"token punctuation\">(</span>map<span class=\"token punctuation\">,</span> arr<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">gridSize</span><span class=\"token operator\">:</span> <span class=\"token number\">50</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">maxZoom</span><span class=\"token operator\">:</span> <span class=\"token number\">15</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">zoomOnClick</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">styles</span><span class=\"token operator\">:</span> imgArr<span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">imagePath</span><span class=\"token operator\">:</span> <span class=\"token string\">\"https://googlemaps.github.io/js-marker-clusterer/images/m\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>這邊是客製化 Cluster icon 的方法，這個 function 會抓到這個建立中的 cluster 內包含的 marker，會用陣列帶進來，這時候我們就跑迴圈，將 marker 內的資料帶出來，在看你想呈現的方式處理，我這邊是計算裡面的平均價格（這範例下方有 click event 寫法，不過我直接寫進 codepen 導致跑不動)。</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// 稍微修改 cluster.js的檔案  讓聚合變得更客製化</span>\n<span class=\"token class-name\">MarkerClusterer</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">calculator_</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">markers<span class=\"token punctuation\">,</span> numStyles</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">//省略</span>\n  <span class=\"token keyword\">var</span> price <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> markers<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    price <span class=\"token operator\">+=</span> <span class=\"token function\">Number</span><span class=\"token punctuation\">(</span>markers<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>dataPrice<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  price <span class=\"token operator\">=</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">floor</span><span class=\"token punctuation\">(</span>price <span class=\"token operator\">/</span> count<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token comment\">//省略</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">text</span><span class=\"token operator\">:</span> count <span class=\"token operator\">+</span> <span class=\"token string\">\" 筆&lt;br/>A. NT\"</span> <span class=\"token operator\">+</span> price<span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">index</span><span class=\"token operator\">:</span> index<span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"實際範例-markercluster\" style=\"position:relative;\"><a href=\"#%E5%AF%A6%E9%9A%9B%E7%AF%84%E4%BE%8B-markercluster\" aria-label=\"實際範例 markercluster permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>實際範例 markercluster</h2>\n<iframe height='350' scrolling='no' title='google map marker cluster (markercluster & markerlabel)' src='//codepen.io/chu1228/embed/opgwQK/?height=313&theme-id=light&default-tab=result&embed-version=2' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%;'>See the Pen <a href='https://codepen.io/chu1228/pen/opgwQK/'>google map marker cluster (markercluster & markerlabel)</a> by ianchu (<a href='https://codepen.io/chu1228'>@chu1228</a>) on <a href='https://codepen.io'>CodePen</a>.\n</iframe>\n<p>上面簡單講解一下 google map marker 過多的處理方法，沒想到最麻煩的是寫範例＋建立假資料最耗時間，快寫完剛好看到更新版的…<a href=\"https://gmaps-marker-clusterer.github.io/gmaps-marker-clusterer/index.html\">最新版更新</a>（os:…，為啥跟 github 版本差那麼多…)，\n大家可以直接試用看看，看介紹貌似支援 call option 直接修改 icon 還有增加 className，能直接略過我上面硬改 cluster.js 這段是最好，畢竟改 plugin 缺乏前端最重要的沿用性。</p>\n<p>感謝大家閱讀！！希望能解決 google map 麻煩的 marker 問題，\n一起來讓 google map 好用一點點點點點點點 XD。</p>\n<!--- ![google map marker console](../images/markerconsole.png \"google map marker console\") --->\n","fields":{"readingTime":{"text":"7 min read"}},"frontmatter":{"title":"Google Map marker cluster 標記使用教學","date":"December 11, 2017","description":"google map下多個marker，再搭配marker的event來互動，以下是打開infowindow的運用。markerwithlabel讓我們更簡單設計不同的marker，例如讓他帶自訂的image，再來是重點 markercluster，它讓我們可以解決marker過多，同時重疊的問題。","categories":"javascript","tags":["google_map","javascript"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/static/38e7093d0f66fe667f97b987459880ae/f4a2f/markerconsole.png","srcSet":"/static/38e7093d0f66fe667f97b987459880ae/fa343/markerconsole.png 200w,\n/static/38e7093d0f66fe667f97b987459880ae/a3d7d/markerconsole.png 400w,\n/static/38e7093d0f66fe667f97b987459880ae/f4a2f/markerconsole.png 800w","sizes":"(min-width: 800px) 800px, 100vw"},"sources":[{"srcSet":"/static/38e7093d0f66fe667f97b987459880ae/316eb/markerconsole.webp 200w,\n/static/38e7093d0f66fe667f97b987459880ae/7fed8/markerconsole.webp 400w,\n/static/38e7093d0f66fe667f97b987459880ae/27c6f/markerconsole.webp 800w","type":"image/webp","sizes":"(min-width: 800px) 800px, 100vw"}]},"width":1280,"height":542.4}}},"image":{"publicURL":"/static/38e7093d0f66fe667f97b987459880ae/markerconsole.png"}}},"previous":{"fields":{"slug":"/2017-12-arrayhandle/"},"frontmatter":{"title":"Javascript Array sort 陣列排序分類處理"}},"next":null},"pageContext":{"id":"879c82f3-7357-5ae2-bc81-302c482a4841","previousPostId":"fee22e35-47a7-53d2-9585-5bc180c4a5f4","nextPostId":null}},"staticQueryHashes":["3649515864","3707347541","3761976949"],"slicesMap":{}}