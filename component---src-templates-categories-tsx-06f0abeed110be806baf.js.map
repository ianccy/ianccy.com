{"version":3,"file":"component---src-templates-categories-tsx-06f0abeed110be806baf.js","mappings":"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","sources":["webpack://gatsby-tailwindcss-typescript/./src/components/Banner.tsx","webpack://gatsby-tailwindcss-typescript/./src/components/PostItem.tsx","webpack://gatsby-tailwindcss-typescript/./src/components/SideBar.tsx","webpack://gatsby-tailwindcss-typescript/./src/components/Tags.tsx","webpack://gatsby-tailwindcss-typescript/./src/hooks/useIntersectionObserver.ts","webpack://gatsby-tailwindcss-typescript/./src/templates/categories.tsx","webpack://gatsby-tailwindcss-typescript/./src/utils/urlHandler.ts"],"sourcesContent":["import React from \"react\";\nimport { StaticImage } from \"gatsby-plugin-image\";\n\nconst Banner: React.FC = () => {\n  return (\n    <div className=\"grid grid-cols-2 gap-4 py-4 pb-20\">\n      <div className=\"flex content-center justify-center justify-self-end flex-col md:pr-12\">\n        <p className=\"text-xl pb-2\">Keep curiosity alive.</p>\n      </div>\n      <div className=\"flex items-center\tjustify-start\">\n        <StaticImage\n          src=\"../images/banner.png\"\n          alt=\"ian and hippo\"\n          width={240}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default Banner;\n","import { Link } from \"gatsby\";\nimport { GatsbyImage, IGatsbyImageData } from \"gatsby-plugin-image\";\nimport React from \"react\";\n\nimport { fetchPostName } from \"../utils/urlHandler\";\n\ntype PostItemType = {\n  slug: string;\n  title: string;\n  description: string;\n  postImage?: IGatsbyImageData;\n  date: string;\n  category: string;\n  readingTimeText: string;\n};\n\nconst PostItem = ({\n  slug,\n  title,\n  description,\n  postImage,\n  date,\n  category,\n  readingTimeText,\n}: PostItemType) => {\n  return (\n    <article\n      key={slug}\n      className=\"grid grid-cols-3 gap-4 pb-20\"\n      itemScope\n      itemType=\"http://schema.org/Article\"\n    >\n      <div className=\"col-span-2 flex flex-col\">\n        <header className=\"pb-2\">\n          <h2>\n            <Link to={`/${fetchPostName(slug)}`} itemProp=\"url\">\n              <h2\n                className=\"text-lg font-bold text-ellipsis overflow-hidden\"\n                itemProp=\"headline\"\n              >\n                {title}\n              </h2>\n            </Link>\n          </h2>\n        </header>\n        <section className=\"pb-2 grow\">\n          <Link to={`/${fetchPostName(slug)}`} itemProp=\"url\">\n            <p\n              className=\"line-clamp-3\"\n              dangerouslySetInnerHTML={{\n                __html: description,\n              }}\n              itemProp=\"description\"\n            />\n          </Link>\n        </section>\n        <div className=\"flex gap-1 items-center text-sm flex-wrap\">\n          <div>{date}</div>\n          <div>·</div>\n          <Link to={`/categories/${category}`}>{category}</Link>\n          <div>·</div>\n          <div>{readingTimeText}</div>\n        </div>\n      </div>\n      <div className=\"flex items-center\">\n        {postImage && <GatsbyImage image={postImage} alt={title} />}\n      </div>\n    </article>\n  );\n};\n\nexport default PostItem;\n","import React, { useRef } from \"react\";\nimport { graphql, Link, useStaticQuery } from \"gatsby\";\nimport { StaticImage } from \"gatsby-plugin-image\";\n\nimport useIntersectionObserver from \"../hooks/useIntersectionObserver\";\n\nimport type { CategoriesType, TagsType } from \"../pages/index\";\nimport Tags from \"./Tags\";\n\nconst SideBar = () => {\n  const {\n    allMarkdownRemark: { tags, categories },\n  }: {\n    allMarkdownRemark: { tags: TagsType[]; categories: CategoriesType[] };\n  } = useStaticQuery(\n    graphql`\n      query {\n        allMarkdownRemark(sort: { fields: [frontmatter___date], order: DESC }) {\n          tags: group(field: frontmatter___tags) {\n            value: fieldValue\n          }\n          categories: group(field: frontmatter___categories) {\n            value: fieldValue\n          }\n        }\n      }\n    `\n  );\n\n  const ref = useRef<HTMLDivElement | null>(null);\n  const entry = useIntersectionObserver(ref, { rootMargin: \"0px 0px -100%\" });\n  const isVisible = entry?.isIntersecting;\n\n  const fixClassName = isVisible ? \"sticky top-0\" : \"\";\n\n  return (\n    <div ref={ref} className=\"h-full\">\n      <div className={`pt-2 ${fixClassName}`}>\n        <div className=\"pb-6\">\n          <p className=\"text-base py-2 font-medium\">Sponsor Creator</p>\n          <a\n            href=\"https://store.line.me/stickershop/author/1019955/zh-Hant\"\n            className=\"link text-base leading-6 font-medium py-1 text-center\"\n            target=\"_blank\"\n          >\n            <StaticImage\n              src=\"../images/hippostick.png\"\n              alt=\"line sticker hippo\"\n              width={150}\n            />\n            <p className=\"text-base text-center py-2\">Line Sticker</p>\n          </a>\n        </div>\n        <div className=\"pb-6\">\n          <p className=\"text-base py-2 font-medium\">Category</p>\n          <div>\n            {categories.map(({ value }) => (\n              <Link key={value} to={`/categories/${value}`}>\n                <p className=\"text-sm pb-2\">{value}</p>\n              </Link>\n            ))}\n          </div>\n        </div>\n        <div className=\"pb-6\">\n          <p className=\"text-base py-2 font-medium\">Tag</p>\n          <div className=\"flex flex-wrap\">\n            <Tags tags={tags} />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default SideBar;\n","import React from \"react\";\nimport { Link } from \"gatsby\";\n\nimport type { TagsType } from \"../pages\";\n\nconst Tags: React.FC<{ tags: TagsType[] }> = ({ tags }) => {\n  return (\n    <>\n      {tags.map(({ value }, index) => (\n        <div className=\"tag-item\" key={value}>\n          <Link to={`/tags/${value}`}>\n            <span className=\"text-sm pb-2\">{value}</span>\n          </Link>\n          {index < tags.length - 1 && <span className=\"px-0.5\">·</span>}\n        </div>\n      ))}\n    </>\n  );\n};\n\nexport default Tags;\n","import { useEffect, useState } from \"react\";\nimport type { RefObject } from \"react\";\n\nfunction useIntersectionObserver(\n  elementRef: RefObject<Element>,\n  { threshold = 0, root = null, rootMargin = \"0%\" }: IntersectionObserverInit\n): IntersectionObserverEntry | undefined {\n  const [entry, setEntry] = useState<IntersectionObserverEntry>();\n\n  const updateEntry = ([entry]: IntersectionObserverEntry[]): void => {\n    setEntry(entry);\n  };\n\n  useEffect(() => {\n    const node = elementRef?.current;\n    if (window.IntersectionObserver && node) {\n      const observer = new IntersectionObserver(updateEntry, {\n        threshold,\n        root,\n        rootMargin,\n      });\n\n      observer.observe(node);\n\n      return () => observer.disconnect();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [elementRef, root, rootMargin]);\n\n  return entry;\n}\n\nexport default useIntersectionObserver;\n","import React from \"react\";\nimport { graphql, PageProps } from \"gatsby\";\nimport { getImage, IGatsbyImageData } from \"gatsby-plugin-image\";\n\nimport Layout from \"../components/Layout\";\nimport Banner from \"../components/Banner\";\nimport Seo from \"../components/Seo\";\nimport PostItem from \"../components/PostItem\";\nimport SideBar from \"../components/SideBar\";\n\nexport type CategoriesType = {\n  value: string;\n};\n\nexport type TagsType = {\n  value: string;\n};\n\ntype DataWithPosts = {\n  site: {\n    siteMetadata: {\n      title: string;\n    };\n  };\n  allMarkdownRemark: {\n    nodes: [\n      {\n        excerpt: string;\n        fields: {\n          slug: string;\n          readingTime: {\n            text: string;\n          };\n        };\n        frontmatter: {\n          date: string;\n          title: string;\n          description: string;\n          thumbnail: IGatsbyImageData;\n          categories: string;\n        };\n      }\n    ];\n  };\n};\n\nconst Categories = ({\n  pageContext,\n  data,\n  location,\n}: PageProps<DataWithPosts>) => {\n  const posts = data.allMarkdownRemark.nodes;\n  const { category } = pageContext as { category: string };\n\n  return (\n    <Layout location={location}>\n      <Seo title=\"Ian Chu\" />\n      <Banner />\n      <main>\n        <div className=\"container mx-auto py-4 sm:px-4 lg:max-w-screen-lg\">\n          <div className=\"pb-10\">\n            <h3 className=\"text-lg font-bold\">\n              Category: {category} ({posts.length})\n            </h3>\n          </div>\n          <div className=\"grid md:grid-cols-6 md:gap-20\">\n            <div className=\"md:col-span-4\">\n              {posts.map((post) => {\n                const title = post.frontmatter.title || post.fields.slug;\n                const postImage = getImage(post.frontmatter.thumbnail);\n                return (\n                  <PostItem\n                    key={post.fields.slug}\n                    slug={post.fields.slug}\n                    title={title}\n                    description={post.frontmatter.description || post.excerpt}\n                    postImage={postImage}\n                    date={post.frontmatter.date}\n                    category={post.frontmatter.categories}\n                    readingTimeText={post.fields.readingTime.text}\n                  />\n                );\n              })}\n            </div>\n            <div className=\"hidden md:block md:col-span-2\">\n              <SideBar />\n            </div>\n          </div>\n        </div>\n      </main>\n    </Layout>\n  );\n};\n\nexport default Categories;\n\nexport const pageQuery = graphql`\n  query ($category: String) {\n    site {\n      siteMetadata {\n        title\n      }\n    }\n    allMarkdownRemark(\n      sort: { fields: [frontmatter___date], order: DESC }\n      filter: { frontmatter: { categories: { in: [$category] } } }\n    ) {\n      nodes {\n        excerpt\n        fields {\n          slug\n          readingTime {\n            text\n          }\n        }\n        frontmatter {\n          date(formatString: \"MMMM DD, YYYY\")\n          title\n          description\n          thumbnail {\n            childImageSharp {\n              gatsbyImageData(width: 400)\n            }\n          }\n          categories\n        }\n      }\n    }\n  }\n`;\n","export const fetchPostName = (slug: string) => {\n  return slug.split(\"-\")[2];\n};\n"],"names":["React","className","StaticImage","src","alt","width","slug","title","description","postImage","date","category","readingTimeText","key","itemScope","itemType","Link","to","fetchPostName","itemProp","dangerouslySetInnerHTML","__html","GatsbyImage","image","useStaticQuery","allMarkdownRemark","tags","categories","ref","useRef","entry","useIntersectionObserver","rootMargin","fixClassName","isIntersecting","href","target","map","value","Tags","index","length","elementRef","threshold","root","useState","setEntry","updateEntry","useEffect","node","current","window","IntersectionObserver","observer","observe","disconnect","pageContext","data","location","posts","nodes","Layout","Seo","Banner","post","frontmatter","fields","getImage","thumbnail","PostItem","excerpt","readingTime","text","SideBar","split"],"sourceRoot":""}